<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<title>
  
    Archive
  
</title>

<meta property="og:type" content="website">
<meta property="og:title" content="Stefano Cianciulli">
<meta property="og:url" content="https://cianciustyles.github.io/archives/index.html">
<meta property="og:site_name" content="Stefano Cianciulli">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Stefano Cianciulli">
<meta name="twitter:card" content="summary">


  <link rel="alternative" href="/atom.xml" title="Stefano Cianciulli" type="application/atom+xml">



  <link rel="icon" href="/favicon.png">



<link rel="stylesheet" href="/perfect-scrollbar/css/perfect-scrollbar.min.css">


<link rel="stylesheet" href="/styles/main.css">







<meta name="generator" content="Hexo 7.3.0"></head>
<body
  
    class="monochrome"
  
  >
  <div class="mobile-header">
  <button class="sidebar-toggle" type="button">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="title" href="/">Stefano Cianciulli</a>
</div>

  <div class="main-container">
    <div class="sidebar">
  <div class="header">
    <h1 class="title"><a href="/">Stefano Cianciulli</a></h1>
    
      <p class="subtitle">
        Life (and programming) as seen thru my lens
      </p>
    
    <div class="info">
      <div class="content">
        
        
          <div class="author">Stefano Cianciulli</div>
        
      </div>
      
        <div class="avatar">
          
            <a href="/About-Me"><img src="https://i.imgur.com/LznrOet.jpeg"></a>
          
        </div>
      
    </div>
  </div>
  <div class="body">
    
      
        <ul class="nav">
          
            
              <li>
                <a href="/" title="Homepage" external="false">Homepage</a>
              </li>
            
          
            
              <li>
                <a href="/About-Me" title="About Me" external="false">About Me</a>
              </li>
            
          
            
              <li>
                <a href="/now" title="What I&#39;m Doing Now" external="false">What I&#39;m Doing Now</a>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li class="tag-list-container">
                <a href="javascript:;">Tag</a>
                <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AWS/" rel="tag">AWS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Clean-Code/" rel="tag">Clean Code</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Django/" rel="tag">Django</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/London/" rel="tag">London</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/My-Notes/" rel="tag">My Notes</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Open-Source/" rel="tag">Open Source</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Security/" rel="tag">Security</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Seminars/" rel="tag">Seminars</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Training/" rel="tag">Training</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Uncle-Bob/" rel="tag">Uncle Bob</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/" rel="tag">Web</a><span class="tag-list-count">1</span></li></ul>
              </li>
            
          
            
              <li class="archive-list-container">
                <a href="javascript:;">Archive</a>
                <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a><span class="archive-list-count">1</span></li></ul>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="https://github.com/CianciuStyles" title="Github" target="_blank" rel="noopener">Github</a>
              </li>
            
          
            
              <li>
                <a href="https://it.linkedin.com/in/stefanocianciulli" title="LinkedIn" target="_blank" rel="noopener">LinkedIn</a>
              </li>
            
          
        </ul>
      
    
  </div>
</div>

    <div class="main-content">
      
        <div style="max-width: 1000px">
      
          

  
  
    
      
      
      <section class="archives-wrap">
        <div class="archive-year-wrap">
          <h1><a href="/archives/2017" class="archive-year">2017</a></h1>
        </div>
        <div class="post-list">
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2017/11/29/Advanced-Web-Application-Security-Training/" >
  Advanced Web Application Security Training
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2017/11/29/Advanced-Web-Application-Security-Training/"><span class="article-date">
  2017/11/29
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Security/" rel="tag">Security</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Training/" rel="tag">Training</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Web/" rel="tag">Web</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>In September I had the opportunity to attend a two-day training about security in web applications held by <a target="_blank" rel="noopener" href="https://securitum.pl/">Securitum</a>. I thought it would have been an excellent opportunity to gain some more insight on the best practices to follow while working on the Django web application around which my job revolves every day.</p>
<p>The training was structured in sections, one for each of the several vulnerabilities we analysed, where each section was opened by a theoretical explanation and later followed by a “hands-on” exercise where we were required to exploit the flaw we had just learned about in order to bypass the security of a fictional system and gain access to some information we should not have been able to reach.</p>
<p>Among the vulnerabilities I learned about during the training, I was particularly struck by the <a target="_blank" rel="noopener" href="https://www.owasp.org/index.php/XML_External_Entity_(XXE)_Processing">XML External Entity</a> one. If you are not familiar with this, it basically revolves around the possibility offered by XML to define your own entities in documents, like in the following code fragment:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;ISO-8859-1&quot;</span>?&gt;</span></span><br><span class="line">  <span class="meta">&lt;!DOCTYPE <span class="keyword">foo</span> [  </span></span><br><span class="line"><span class="meta">   <span class="meta">&lt;!ELEMENT <span class="keyword">foo</span> <span class="keyword">ANY</span> &gt;</span></span></span><br><span class="line"><span class="meta">   <span class="meta">&lt;!ENTITY <span class="keyword">xxe</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;file:///dev/random&quot;</span> &gt;</span>]&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">    <span class="symbol">&amp;xxe;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The possible values after the <code>SYSTEM</code> keyword can be:</p>
<ul>
<li>a file on the server, whose contents will replace the entity;</li>
<li>a directory on the server, whose file listing will replace the entity;</li>
<li>an HTTP request, whose response will replace the entity.</li>
</ul>
<p>Since most of the XML parsers have the option for parsing and resolving external entities activated by default, it could be an easy attack vector for getting the contents of some file or service we should not be able to access remotely, as in the screenshot below:</p>
<img src="/2017/11/29/Advanced-Web-Application-Security-Training/xxe.png" class="" title="XXE vulnerability in Burp Suite Free">

<p>Another vulnerability we analysed is the famous <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/pickle.html">pickle</a> module in Python. This module is able to serialise and deserialise Python objects as byte streams using a specific stack-based language: basically the output of the <code>pickle</code> operation is a program which is then able to recreate the serialised Python data structures. In this case, the problem arises when an attacker is able to modify the representation of a pickled object to inject code that gets executed remotely when Pickle deserialises the object. For example, in the code fragment below we are telling Python to call the <code>os.system</code> function with <code>echo hello world</code> as a parameter, which will print the string <code>hello world</code> on the server:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cos</span><br><span class="line">system</span><br><span class="line">(S&#x27;echo hello world&#x27;</span><br><span class="line">tR.</span><br></pre></td></tr></table></figure>

<p>The last vulnerability is a variation of the <a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/faq/fundamentals/#javascript">NoSQL injection affecting MongoDB</a>, which allows you to run arbitrary JavaScript code on the server for some of its operations (e.g., in the <code>$where</code> clause in a query). This obviously can be used as a vector attack for accessing records we should not have access to. For example, if on the server we have this code for querying the users table in our database</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="property">myCollection</span>.<span class="title function_">find</span>(&#123; <span class="attr">active</span>: <span class="literal">true</span>, <span class="attr">$where</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> obj.<span class="property">username</span> == $user &amp;&amp; obj.<span class="property">password</span> == $pass; &#125; &#125;);</span><br></pre></td></tr></table></figure>

<p>and we send a request to the server formatted as following</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.example.com/query?user=&quot;admin&quot;;&#125;&#125;);//&amp;pass=</span><br></pre></td></tr></table></figure>

<p>this gets translated in MongoDB as the following query</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="property">myCollection</span>.<span class="title function_">find</span>(&#123; <span class="attr">active</span>: <span class="literal">true</span>, <span class="attr">$where</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> obj.<span class="property">username</span> == <span class="string">&quot;admin&quot;</span>;&#125;&#125;);<span class="comment">// &amp;&amp; obj.password == &quot;&quot; ; &#125; &#125;);</span></span><br></pre></td></tr></table></figure>

<p>which could possibly allow us to login as the ‘admin’ user (if there is one in the table).</p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2017/10/16/Notes-From-Uncle-Bob-s-Clean-Code-Videos/" >
  Notes From Uncle Bob&#39;s Clean Code Videos
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2017/10/16/Notes-From-Uncle-Bob-s-Clean-Code-Videos/"><span class="article-date">
  2017/10/16
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Clean-Code/" rel="tag">Clean Code</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/My-Notes/" rel="tag">My Notes</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Uncle-Bob/" rel="tag">Uncle Bob</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>Over the last few weeks, I have had the opportunity to dedicate a couple of hours of my Mondays to watch the <a target="_blank" rel="noopener" href="https://cleancoders.com/videos/clean-code">“Clean Code” video series</a> by <a target="_blank" rel="noopener" href="https://twitter.com/unclebobmartin">Robert C. Martin</a> (more informally known as Uncle Bob). In the past, I have tried to read the <a target="_blank" rel="noopener" href="https://www.amazon.co.uk/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882/">book</a> from which these videos are produced, but I always ended up not finishing it due to the usual excuses, like lack of time, procrastination, etc. Having a weekly meeting organised at my workplace to watch the videos together and have a discussion about them with my colleagues afterwards has been a vastly superior plan to my own, and indeed this made me stick to watch all the available videos.</p>
<p>During the sessions I have jotted down some notes on the topics I thought were more relevant and applicable to my day-to-day job, and I am going to report them in the remainder of this post:</p>
<h3 id="Clean-Code"><a href="#Clean-Code" class="headerlink" title="Clean Code"></a>Clean Code</h3><ul>
<li>The messier the code, the more time it will take to add features later in the project’s codebase.</li>
<li>It’s not that programmers aren’t working hard, they are; but the code is slowing them down.</li>
<li>Adding more people at the end of the lifecycle of a project is <strong>not</strong> going to make things go faster; quite the opposite.</li>
<li>The big redesign is <strong>not</strong> going to work either; it will start a turtle-and-hare race between the old and the new systems.</li>
<li>A <em>rigid</em> system is a system which resists changes, in a way that makes changes very difficult to accomplish and makes estimates not accurate.</li>
<li>A <em>fragile</em> system is a system that starts to malfunction in different ways as soon as some part of the code changes.</li>
<li>An <em>inseparable</em> system is a system for which reading the code is not going to help in understanding the original author’s ideas and purposes.</li>
</ul>
<h3 id="Names"><a href="#Names" class="headerlink" title="Names++"></a>Names++</h3><ul>
<li>Every time you name something, the name should reveal your intentions. If you need to write a comment after the name, the name is not good enough.</li>
<li>If you have to go look in the code to understand a name, the name has failed its purpose.</li>
<li>To disinform means to have a name that gives the reader a different intention than the author’s.</li>
<li>There’s no need anymore for prefixes for types (the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Hungarian_notation">Hungarian notation</a>), the IDE and compilers are smart enough to take this for you.</li>
<li>Boolean variables should be named as predicates, e.g. <em>isEmpty</em>.</li>
<li>Method names should be verbs, as they express actions (except the methods that return boolean values).</li>
<li>The longer the scope of a variable, the longer its name should be (if the scope is short, the variable name is used very near to the declaration, and hence it’s easy to look for what it stands for).</li>
<li>Methods which are called from many places should have nice and short names; private methods which are called in very few places and with a small scope should have long and detailed names.</li>
</ul>
<h3 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h3><ul>
<li>Functions are the first tier of code containers.</li>
<li>A functions should do one thing, do it well, and do it only.</li>
<li>Today’s computers and compilers are so good at their jobs that it’s no longer needed to worry too much about efficiency, so we should focus on readability first.</li>
<li>Long functions are where classes go to hide.</li>
<li>If a function operates on multiple levels of abstraction, it’s doing more than one thing.</li>
<li>You can make your function do one thing only by extracting functions from it until you can’t.</li>
</ul>
<h3 id="Function-structure"><a href="#Function-structure" class="headerlink" title="Function structure"></a>Function structure</h3><ul>
<li>We should treat each argument as a liability, not as an asset.</li>
<li>Usually we should strive for 0 to 2 arguments; with 3 it already becomes a problem to remember the order.</li>
<li>Most times we pass a boolean argument to a function, we are declaring that the function is actually doing two things: one for the true case, and one for the false case.</li>
<li>If a function expects a null value, it’s like the boolean case: we expect to behave in a different way when the object is null, and in another way when the object is not null. Write two functions instead.</li>
<li>The <a target="_blank" rel="noopener" href="http://tidyjava.com/stepdown-rule/"><em>stepdown rule</em></a> says that public, more general methods should go at the top of the class, while private, most detailed methods functions should go at the bottom. This creates a new level of abstraction each time we scroll down the code.</li>
<li>Interfaces allow to invert the source code dependency between two modules A and B, so they are not required to be deployed together anymore.</li>
<li>When we have a plug-in structure, it allows the dev team to work independently on different parts of the code. Switch statements and long chains of if-else statements break these premises.</li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Functional_programming"><em>Functional programming</em></a> is the programming style which does not allow assignments and side effects. This makes functions “pure” mathematical functions, so that the same inputs will always result in the same output.</li>
<li><em>Temporal coupling</em> is when the order of function calls matter.</li>
<li><em>Queries</em> (e.g., getters) should not change the state of an object and just return a value; <em>commands</em> should always return void, possibly throwing exceptions for error cases.</li>
<li>Individual functions should have a limited knowledge of the overall system.</li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Structured_programming"><em>Structured programming</em></a> says that a program should composed from three basic blocks: <strong>sequence</strong>, <strong>selection</strong> and <strong>iteration</strong>.</li>
<li>Error handling is important, but if it obscures the logic, it’s wrong.</li>
<li>Always use unchecked exceptions (i.e., make your exceptions derive from RuntimeException).</li>
<li>Most of the work should be done by the name, the context and the scope of the exception thrown, so that no message should be needed.</li>
<li>Functions should do one thing, and error handling is one thing.</li>
</ul>
<h3 id="Form"><a href="#Form" class="headerlink" title="Form"></a>Form</h3><ul>
<li>Comments should be rare, and supposed to take our whole attention, and readers should be glad it’s there.</li>
<li>It should be a prerogative of a developer to write code that expresses itself. In this light, comments can be seen as failures.</li>
<li>Over time, comments degenerate into lies because usually the code changes but the comment does not.</li>
<li>Worthwhile comment are:<ul>
<li>legal comments</li>
<li>informative comments (e.g., the format a regular expression is trying to match)</li>
<li>TODO comments</li>
<li>public API comments</li>
<li>expression of intent comments</li>
</ul>
</li>
<li>Bad comments include:<ul>
<li>mumbling</li>
<li>redundant explanations</li>
<li>mandated redundancy</li>
<li>journal comments</li>
<li>big banner comments</li>
<li>closing brace comments</li>
<li>attribution comments</li>
<li>HTML in comments</li>
<li>non-local comments</li>
</ul>
</li>
<li>Formatting is about communicating, and communicating should be the first concern to programmers.</li>
<li>Things related to each other should be vertically close to each other. Vertical distance is a measure of how related two things are.</li>
<li>Use the IDE reformat feature on little snippets, not on the whole file, otherwise merges would become a nightmare.</li>
<li>Polymorphism is the key to independent deployability and plug-in architectures.</li>
<li>Data structures have public variables and (virtually) no methods, while classes have private variables and public methods.</li>
<li>Data structures and switch statements are as related as classes and polymorphism are.</li>
<li>Classes protect us from new types, but suffer from new methods; data structures protect us from new methods, but suffer from new types.</li>
<li>A row in the database is mapped to a data structure, not a class. This is called the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Object-relational_impedance_mismatch"><em>impedence mismatch</em></a>.</li>
<li>The rule of boundaries states that, when identifying a boundary, the information should go away from the concrete and toward the abstract.</li>
</ul>
<h3 id="Test-Driven-Development"><a href="#Test-Driven-Development" class="headerlink" title="Test-Driven Development"></a>Test-Driven Development</h3><ul>
<li>A test suite with good coverage eliminates the fear of change.</li>
<li>Tests let you clean your code.</li>
<li>The three laws of <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Test-driven_development">Test-Driven Development</a> are:<ul>
<li>you should write no production code unless you have a failing test first</li>
<li>you should stop writing tests as soon as you have a failing one</li>
<li>you should write only the code that makes the failing test pass</li>
</ul>
</li>
<li>Writing tests before the production code makes the production code testable (or decoupled).</li>
<li>Creative work requires iterations and rework.</li>
<li>The tests test the production code, and the production code tests the tests.</li>
</ul>
<h3 id="Advanced-Test-Driven-Development"><a href="#Advanced-Test-Driven-Development" class="headerlink" title="Advanced Test-Driven Development"></a>Advanced Test-Driven Development</h3><ul>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Code_refactoring">Refactoring</a> is something you do continuously; you never ignore it, you never let it slide, you also don’t put it on a schedule or a plan.</li>
<li>To prepare a working environment to work in, focus on writing an empty test and make it pass.</li>
<li>Ideally you should write all the degenerate tests first; if that’s not possible, make sure you write the next degenerate test as soon as possible.</li>
<li>Every unit test should have only one assertion in it (<em>Single Assert rule</em>).</li>
<li>According to the <em>Triple A rule</em>, every unit test should be divided into three sections:<ul>
<li>arrangements</li>
<li>act</li>
<li>assert</li>
</ul>
</li>
<li>A single assertion is meant to be a single logical assertion, not a single “physical” call to the assert method.</li>
<li>As the tests get more specific, the code becomes more general.</li>
<li>Tests cannot fully constrain a program; they can add constraints but they can’t specify the final behaviour. Tests can prove a program wrong, they can never prove it right.</li>
</ul>
<h3 id="Architecture"><a href="#Architecture" class="headerlink" title="Architecture"></a>Architecture</h3><ul>
<li>Architecture is the set of decisions that serve as the foundation for a software.</li>
<li>A good architecture “screams” intention.</li>
<li>A good architecture allows you to postpone decisions about DBs, frameworks, etc.</li>
<li>A use-case is the formal description of how a user interacts with a system in order to achieve his&#x2F;her goal.</li>
</ul>
<h3 id="The-Transformation-Priority-Premise"><a href="#The-Transformation-Priority-Premise" class="headerlink" title="The Transformation Priority Premise"></a>The Transformation Priority Premise</h3><ul>
<li>Transformation is a change in code where the structure does not change, but the behaviour does.</li>
<li>The usual “Red-Green-Refactor” cycle might then change into “Red-Transform to Green-Refactor”.</li>
<li>Usually transformations make the code more general.</li>
<li>Duplicate the code is always specific, never general.</li>
<li>Applying the transformations in the priority order helps to come up with better algorithms.</li>
</ul>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2017/01/23/My-First-Contribution-To-Open-Source!/" >
  My First Contribution to Open Source!
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2017/01/23/My-First-Contribution-To-Open-Source!/"><span class="article-date">
  2017/01/23
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Django/" rel="tag">Django</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Open-Source/" rel="tag">Open Source</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>Hello again!</p>
<p>Since I started my new job last June, I have been fulfilling one of my long-standing desires: to learn everything I could about the <a target="_blank" rel="noopener" href="https://www.djangoproject.com/">Django</a> framework. Unsurprisingly, this craving has been postponed many times by several factors, but now that I am getting my hands dirty with it every single day, I can really acknowledge the admiration and regard you can easily read about it all over the Internet, and I must say I agree with it (except in some rather peculiar circumstances :P)!</p>
<p>Anyway, to understand better what’s going on and why things work in a certain way (and why some others don’t), I thought it would be a good idea to find some Django projects on <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a>, read their code to see how they organized it, and maybe apply some of the knowledge I have been acquiring by solving some of the bugs reported by the end users.</p>
<p>One of the first Django-based projects I laid my eyes on is the <a target="_blank" rel="noopener" href="https://www.python.org/">official website for Python</a>, so without reading much of its code (I am still in the process of reading it thoroughly for the first time) I jumped immediately in the issue tracker to see if there was one simple enough to solve for a beginner like me. In fact, I found <a target="_blank" rel="noopener" href="https://github.com/python/pythondotorg/issues/883">one</a> that <em>seemed</em> quite easy to start with:</p>
<p><img src="https://cloud.githubusercontent.com/assets/1864489/12796759/5bfa94b4-cab8-11e5-971a-fe61cfac4b89.jpg" alt="The layout is behaving in a quite bizarre way here"></p>
<p>It was quite easy to see that something was not going on well with the results of search for events: the strings ‘From at’ and ‘though at’ are collapsed one on top of the other, they are not where they are supposed to be, and there is no indication of the start and end date and time of these events.</p>
<p>What was a little bit <em>less</em> easy to see for a beginner was:</p>
<ul>
<li>there is an <a target="_blank" rel="noopener" href="https://pythondotorg.readthedocs.io/install.html#vagrant-setup">easy way</a> to setup a development environment to start working on the problem but it relies on Ansible, which is not available under Windows (which is installed on my laptop) unless you install Cygwin and a whole bunch of packages, and after doing all of this I was still not able to spin up and provision the VM auto-magic-ally;</li>
<li>there is a <a target="_blank" rel="noopener" href="https://pythondotorg.readthedocs.io/install.html#manual-setup">manual way</a> to setup a development environment (which I ended up using), but it took a lot of trial-and-error cycles to understand that I had to download the 14.04 version of Ubuntu, some older libraries (as the project is based on Django 1.7), and so on and so forth;</li>
<li>the search is implemented through <a target="_blank" rel="noopener" href="http://haystacksearch.org/">Haystack</a> and <a target="_blank" rel="noopener" href="https://www.elastic.co/downloads/elasticsearch">Elasticsearch</a> (both of which I have never used in the past), so it took me some time to install and configure them properly.</li>
</ul>
<p>After a week of understanding and failed attempts, I figured out that the problem with the positioning of the two strings was caused by the reuse of a CSS class designed for another page (in which, effectively, they are displayed in the left side of their container) and that, in the case of the missing start and end dates, the problem was that they were being retrieved in the wrong way from the Haystack results. So, without further ado, I went on and created a <a target="_blank" rel="noopener" href="https://github.com/python/pythondotorg/pull/1036">pull request</a>… in fact, my first pull request ever!</p>
<p>Since it was so <a target="_blank" rel="noopener" href="https://github.com/python/pythondotorg/pull/1036#issuecomment-268206820">well-received</a> from the project’s mantainer, I felt motivated to try go through the process once again… but this time I aimed a little higher: I chose to work on an <a target="_blank" rel="noopener" href="https://github.com/python/pythondotorg/issues/731">issue</a> reported by <a target="_blank" rel="noopener" href="https://gvanrossum.github.io/">Guido van Rossum</a> himself! The misbehaviour in this case was that, when the width of the browser window was under a certain value, a spurious portion of the blue background was shown, and this also caused the horizontal scrollbar to appear. One of the contributors suggested that it was likely to be caused by the implementation of the dropdown menus and, after some investigation in the CSS definitions, I was able to confirm that this was indeed the case:</p>
<img src="/2017/01/23/My-First-Contribution-To-Open-Source!/dropdown-overflow.jpg" class="" title="The dropdown menu exceeds the margins of the layout, causing the overflow">

<p>Interestingly, the issue appeared only when the dropdown menus associated with the Socialize and Sign In were hidden, and would promptly vanish as soon as the dropdown menus were shown. From this observation, I simply changed the way in which these menus are hidden (removing them effectively from the page layout), so that the problem could not (and would not) show up <em>by design</em>.</p>
<p>After some testing and with the blessing of the <a target="_blank" rel="noopener" href="https://wiki.python.org/moin/BDFL">Benevolent Dictator For Life</a>, my <a target="_blank" rel="noopener" href="https://github.com/python/pythondotorg/pull/1047">pull request</a> was finally merged and deployed onto the production server!</p>
<p><strong>TL;DR (long story short, in today’s Internet lingo): I fixed a couple of bugs in the official website of Python, I enjoyed the whole process, the reception was better than I expected, so I will probably do it again in the near future.</strong></p>

        
      </div>
    </div>

  

  
  
    
      
        </div></section>
      
      
      <section class="archives-wrap">
        <div class="archive-year-wrap">
          <h1><a href="/archives/2016" class="archive-year">2016</a></h1>
        </div>
        <div class="post-list">
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/11/15/AWS-Technical-Essentials/" >
  AWS Technical Essentials
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/11/15/AWS-Technical-Essentials/"><span class="article-date">
  2016/11/15
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AWS/" rel="tag">AWS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/London/" rel="tag">London</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Seminars/" rel="tag">Seminars</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>Hello! My name is Stefano, and this is the first post I get to write on a blog, ever! I waited so long before sitting down and taking some time to create my personal blog and write this post for the usual “Who in the world would care about another programmer’s blog?” and “I don’t think I have anything interesting enough to be published online…” thoughts that I guess wander in the mind of someone about to do it, but I figured out it would be an encouraging and “unlocking” experience to just start with baby steps and see where this will go, so… here I am!</p>
<p>In this first post, I would like to talk about an Amazon Web Services seminar I got to attend last week in the beautiful Beaufort House in Aldgate, central London.</p>
<img src="/2016/11/15/AWS-Technical-Essentials/beaufort-house.jpg" class="" title="Beaufort House in Aldgate">

<p>It is called AWS Technical Essentials, as it is supposed to be a one-day overview and crash course on the most important services offered by the Amazon Web Services platform, mainly aimed at programmers and software engineers completely new to or with little experience with AWS. The course was divided into both theoretical presentations and hands-on labs, which I found very useful to immediately check and employ the knowledge I had just acquired by attending the former.</p>
<p>Some of the notes I took (by pen and paper!) include the following:</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-regions-availability-zones">Availability zones (AZs)</a> comprise at least two regions, and are basically clusters of data centers</li>
<li>Currently there are 14 regions and 35 availability zones</li>
<li>Not all the regions have the same price</li>
<li>The edge locations are some special cache locations where end users access AWS services</li>
<li>MFA stands for <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Multi-factor_authentication">Multi Factor Authentication</a></li>
<li><a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html">AMIs (Amazon Machine Images)</a> are templates for <a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html">EC2 (Elastic Compute Cloud)</a> instances</li>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/cloudformation/">CloudFormation</a> is the way to go to create an EC2 template based on AMIs</li>
<li>Once you reach a steady-state service, it is far more convenient to switch to <a target="_blank" rel="noopener" href="https://aws.amazon.com/ec2/pricing/reserved-instances/"><em>reserved instances</em></a> (which save up to 75% with respect to on-demand instances)</li>
<li>Once you enable <a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/Versioning.html">versioning</a> in <a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/Welcome.html">S3 (Simple Storage Service)</a>, there is no way to disable it (you can just freeze it)</li>
<li>You can retrieve earlier versions of a file in S3 by deleting the <em>delete markers</em> on that particular file</li>
<li><a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/object-lifecycle-mgmt.html">Lifecycle rules</a> allow you to automatically move your files to a cheaper environment, based on time rules specified by you</li>
<li><a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AmazonEBS.html">EBS (Elastic Block Store)</a> is like an hard drive for EC2 instances. EBSs are persistent, i.e. they will live even after the EC2 instance to which it’s attached  has been terminated</li>
<li><strong>Everyone</strong> is responsible for security</li>
<li>The best thing is to build security together with your application, not adding it later on</li>
<li><a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_oidc.html">Federating</a> users means to allow users from other services&#x2F;locations to login and authenticate</li>
<li><a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id.html">Roles and groups</a> are not the same thing: groups are “containers” for accounts, while roles are the entities which actually receive authorizations and permissions</li>
<li>There is only a layer of <a target="_blank" rel="noopener" href="https://aws.amazon.com/documentation/iam/">IAM (Identity and Access Management)</a> groups, i.e. you can’t create a group within a group</li>
<li>If you don’t specify a role for an EC2 instance while creating it, there’s no way to do it afterwards, so you’ll need to recreate it</li>
<li><em>Authentication</em> is gaining access to a service; <em>authorization</em> is being able to do stuff</li>
<li>Identity provider is for federating users (a.k.a. Single Sign In)</li>
<li><em>Vertical escalation</em> means to give more CPU, RAM, disk, or any other resource to a single instance of a service; <em>horizontal escalation</em> means to spin up a new instance of the service and split the load</li>
<li><em>Durability</em> means “is my data going to be there?”; <em>availability</em> means “is my data available now?”</li>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/elasticloadbalancing/">ELB (Elastic Load Balancing)</a>, <a target="_blank" rel="noopener" href="https://aws.amazon.com/cloudwatch/">CloudWatch</a> and <a target="_blank" rel="noopener" href="https://aws.amazon.com/autoscaling/">Auto Scaling</a> form an environment for dynamic growing&#x2F;shrinking web applications</li>
<li>Sticky sessions are requests which will end up always at the same server</li>
<li><a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html">User data</a> is a script which can be run just after the EC2 instance has been created</li>
<li><a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/autoscaling/latest/userguide/LaunchConfiguration.html">Launch Configurations</a> are similar to CloudFormation scripts, but include also auto scaling information</li>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/premiumsupport/trustedadvisor/">Trusted Advisor</a> is a service which can audit your instances and report about performance, costs, etc.</li>
<li>Trusted Advisor cannot change settings on your behalf, you have to manually change them yourself</li>
</ul>
<p>Wrapping up, I really enjoyed this brief but intense course, I think it gave me a nice overview on the de facto standard platform nowadays, and therefore very useful and interesting to know something about. I would like to thank again a lot <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/ryan-little-97347227">Ryan Little</a> and <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/arlenvartazarian">Arlen Vartazarian</a>, which have been my patient and engaging instructors, and say that I hope to meet you again soon!</p>

        
      </div>
    </div>

  






          <div class="main-footer">
  
    © 2024 Stefano Cianciulli - Powered by <a href="http://hexo.io" target="_blank">Hexo</a> - Theme <a href="https://github.com/denjones/hexo-theme-chan" target="_blank">Chan</a>
  
</div>

      
        </div>
      
    </div>
  </div>
  
<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>


  
<link rel="stylesheet" href="/PhotoSwipe/photoswipe.css">

  
<link rel="stylesheet" href="/PhotoSwipe/default-skin/default-skin.css">


  <!-- Root element of PhotoSwipe. Must have class pswp. -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

      <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

        <div class="pswp__top-bar">

          <!--  Controls are self-explanatory. Order can be changed. -->

          <div class="pswp__counter"></div>

          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

          <button class="pswp__button pswp__button--share" title="Share"></button>

          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
          <!-- element will get class pswp__preloader--active when preloader is running -->
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>

        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>

        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

  
<script src="/PhotoSwipe/photoswipe.js"></script>

  
<script src="/PhotoSwipe/photoswipe-ui-default.js"></script>




<script src="/perfect-scrollbar/js/min/perfect-scrollbar.min.js"></script>


<script src="/scripts/main.js"></script>


</body>
</html>
